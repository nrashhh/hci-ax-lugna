<ActionBar class="action-bar">
  <Label class="action-bar-title" text="Statistics"></Label>
  <ActionItem (tap)="refreshChart()"
      ios.systemIcon="13" ios.position="right"
      android.systemIcon="ic_menu_refresh" android.position="actionBar"></ActionItem>
</ActionBar>

<ActivityIndicator row="1" busy="true" width="100" height="100" class="activity-indicator" *ngIf="isLoading"></ActivityIndicator>
<StackLayout *ngIf="!isLoading">
  <RadCartesianChart tkExampleTitle tkToggleNavButton row="0" height="200" width="auto">
    <Trackball tkCartesianTrackball snapMode="AllClosestPoints" showIntersectionPoints="true"
      (trackBallContentRequested)="onTrackBallContentRequested($event)"></Trackball>
    <CategoricalAxis tkCartesianHorizontalAxis></CategoricalAxis>
    <LinearAxis tkCartesianVerticalAxis></LinearAxis>
    <SplineSeries tkCartesianSeries [items]="avg_data" categoryProperty="date" valueProperty="avgMood" legendTitle="Mood"></SplineSeries>
    <SplineSeries tkCartesianSeries [items]="avg_data" categoryProperty="date" valueProperty="avgSleep" legendTitle="Sleep"></SplineSeries>
    <SplineSeries tkCartesianSeries [items]="avg_data" categoryProperty="date" valueProperty="avgCoffee" legendTitle="Coffee"></SplineSeries>
    <SplineSeries tkCartesianSeries [items]="avg_data" categoryProperty="date" valueProperty="avgSuger" legendTitle="Sugar"></SplineSeries>
  </RadCartesianChart>
  <ListView class="list-group" [items]="feeling_data" >
    <ng-template let-fd="item">
      <GridLayout class="list-group-item" rows="auto, *" columns="80, *">
        <Image row="0" col="0" [ngClass]="setMoodClass(fd.mood)" class="thumb img-circle"></Image>
        <StackLayout row="0" col="1">
          <Label [text]="fd.createdAt | date:'d/M/yy, h:mm a'" class="list-group-item-text"></Label>
          <Label [text]="fd.location" class="list-group-item-text"></Label>
          <Label [text]="fd.description" class="list-group-item-text" textWrap="true"></Label>
        </StackLayout>
      </GridLayout>
    </ng-template>
  </ListView>
</StackLayout>